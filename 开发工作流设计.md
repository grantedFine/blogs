工作流推荐简洁有效的Github flow，只有一个主分支master branch，和其它多个feature branches，主分支设为protected，不能直接push，必须通过pull/merge request合并到主分支。

相应的各种环境：

+ 生产环境：面对真实用户，根据发布计划，从master分支拉取代码，发布
+ 测试环境：合并pull/merge request后，会从master分支拉取代码，进行集成测试
+ 开发环境：对应各个feature branches，创建pull/merge request时，指定目录和端口，自动搭建环境，用于在merge前查看效果，merge或close后自动删除对应的环境
+ 本地开发环境：开发者本地环境，在开发时可以查看效果

所以，开发流程是：

1. 在本地创建本地开发环境
2. 以master分支为基准，创建新的feature分支，在这个分支下开发
3. 开发完成后在本地测试
4. 创建pull/merge request，开发者开始下一项任务
5. pull/merge request会自动开启CI，运行单元测试和代码格式检查，根据这个分支的代码，创建对应的开发环境，并在内网提供随机端口的测试URL，并@相关的reviewer、测试人员、需求人员
6. 更资深的开发，可以review这个pull/merge request的代码；测试人员或需求人员，可以通过提供的URL，查看需求是否满足
7. 开发者解决可能出现的问题
8. 当所有相关人员都满意，pull/merge request会被合并进master分支，对应的开发环境会被自动删除
9. 测试环境会自动拉取master分支的代码，测试人员可以进行整体测试
10. 根据发布计划，运维拉取master分支的代码到生产环境，功能上线。
