当多个进程访问相同的资源时，如果不希望产生数据错误，可以使用这种方法。
大致上说，当访问这个资源时，会尝试获取锁，如果成功，可以访问这个资源，结束后释放锁；如果失败，则不能继续操作。
锁要保证，在任何时刻，最多只会有一个进程拥有访问这个资源的权限，也要防止因为拥有锁的进程崩溃导致锁不能释放的问题。

传统的方法是，利用redis的SETNX，该命令的文档（http://redis.io/commands/setnx ）中包含了详细的介绍。

更推荐的方法是，redlock，redis文档也有介绍，http://redis.io/topics/distlock ，nodejs项目中可以使用https://github.com/mike-marcacci/node-redlock 。

不只有是常见的多请求访问同一数据，redlock锁还可以用来实现一类定时任务，要求任何时刻，都有且只有1个进程在运行这种定时任务，
例如，对于定时检测数据库、api可用性的逻辑，只需要在一个进程内被执行，但不能没有任何进程在执行。

每个节点可以都定时执行逻辑：如果已经获得锁，不作任何操作，否则尝试获取锁。

如果成功获得锁，运行任务，并开启定时器，定时尝试更新锁。

如果更新锁成功，把本地的锁换成新锁；如果更新锁失败，说明已经失去了锁，开始停止任务，并清理资源。

当拥有锁的进程挂掉，并且在锁过期之后，其它进程中会有一个手快的获取到锁，并使任务继续运行。

这样就保证了，有且只有1个进程在运行任务，不过理论上会有最多锁的过期时间+定时的周期的offline时间。
