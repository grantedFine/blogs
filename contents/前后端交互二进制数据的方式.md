前后端有时会需要传输二进制数据，可能来源于文件、canvas，也可能来源于protobuf等序列化普通对象后生成的ArrayBuffer或Buffer。

#### 1. post form

选择文件后提交到后端。

特点：只能传输File；页面会被刷新

#### 2. XHR2

以jquery为例：
```js
const formData = new FormData();
formData.append("file", file);

$.ajax({
    url: "",
    data: formData,
    processData: false,
    contentType: false,
    type: "POST",
});
```

特点：只能传输File；页面不会被刷新

#### 3. websocket

```js
var connection = new WebSocket("");
var binary = new Uint8Array(100);
connection.send(binary.buffer);
```

特点：只能传输ArrayBuffer

#### 4. socket.io

```js
const socket = io("/");
socket.emit("event", {
    foo: file1,
    bar: {
        bar1: file2,
        bar2: file3
    },
    baz: ""
});
```

特点：可以传输File、Blob、ArrayBuffer，和它们的各种组合。

在nodejs服务端，都以Buffer的形式接收：

```js
{
    foo: buffer1,
    bar: {
        bar1: buffer2,
        bar2: buffer3
    },
    baz: ""
}
```

#### 5. window.fetch

```js
const formData = new FormData();
formData.append("file", file);
fetch("", {
  method: 'POST',
  body: formData
})
```

特点：可以传输File、Blob、ArrayBuffer
